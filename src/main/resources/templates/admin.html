<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
    <link type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link href="/css/datepicker.css"  th:href="@{/css/datepicker.css}" type="text/css" rel="stylesheet">

    <link href="/css/admin.css"  th:href="@{/css/admin.css}" type="text/css" rel="stylesheet">
    <script src="js/admin.js" th:src="@{/js/admin.js}" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        <div th:insert="header.html" class="header"></div>
    </div>
    <main class="container mainWrap">
        <!--    이미지 배너    -->
        <div class ="re_banner">
            <h1 class="re_title m-0">ADMIN</h1>
        </div>
        <!--   탭 버튼   -->
        <div class="text-center">
            <div class="btn-group tab_box" role="group" aria-label="Basic example">
                <button type="button" class="btn re_btn on m-0 py-2">매출관리</button>
                <button type="button" class="btn re_btn m-0 py-2">휴무등록</button>
                <button type="button" class="btn re_btn m-0 py-2">회원관리</button>
            </div>
        </div>
        <!-- 예약관리 -->
        <div class="todayReservation tab on">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-table me-1"></i>
                    당일 예약자 리스트
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="input-group mb-3">
                                <select class="custom-select w-75 ms-3" aria-label="Example select with button addon">
                                    <option selected>로그인한 디자이너</option>
                                    <option value="1">디자이너1</option>
                                    <option value="2">디자이너2</option>
                                    <option value="3">디자이너3</option>
                                </select>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button">검색</button>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-header">
                                    오늘의 중점사항 (기능 미정)
                                </div>
                                <div class="card-body"><canvas width="100%" height="160"></canvas></div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">일자</th>
                                    <th scope="col">성명</th>
                                    <th scope="col">전화번호</th>
                                    <th scope="col">선택옵션</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr id="#1" onclick="confirmmation()">
                                    <th scope="row">1</th>
                                    <td>2022-04-29 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>2022-04-30 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td>2022-04-29 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                <tr>
                                    <th scope="row">4</th>
                                    <td>2022-04-29 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                <tr>
                                    <th scope="row">5</th>
                                    <td>2022-04-29 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                <tr>
                                    <th scope="row">6</th>
                                    <td>2022-04-29 09:30</td>
                                    <td>김철수</td>
                                    <td>010-8538-5505</td>
                                    <td>남성컷</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-5">
                <div class="card-header">
                    예약 확정 내역
                </div>
                <div class="card-body">
                    <table class="table">
                        <thead class="thead-dark">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">일자</th>
                            <th scope="col">성명</th>
                            <th scope="col">전화번호</th>
                            <th scope="col">선택옵션</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">1</th>
                            <td>2022-04-29 09:30</td>
                            <td>김철수</td>
                            <td>010-8538-5505</td>
                            <td>남성컷</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 휴무등록 -->
        <div class="holiday mt-5 tab">
            <form  th:action="@{/admin/holiday}" method="post" name="holidayInfo" id="holidayInfo">
                <section class="cal-time-wrap mt-3">
                    <!-- 달력 -->
                    <div id="calendar" class="calendar"></div>
                    <input type="hidden" name="date" id="date" value="null">

                    <div class="w-25">
                        <!-- 휴무인 디자이너 보여주기 -->
                        <h5 class="text-center bg-light designer-bg">휴무인 디자이너</h5>
                        <div class="p-3 h-25">
                            <p id="holidayDesigner"></p>
                            <input type="button" class="btn btn-primary" id="holiDeleteBtn" value="삭제"></input>
                        </div>
                        <!-- 디자이너 선택 -->
                        <h5 class="text-center bg-light designer-bg">디자이너</h5>
                        <div class="p-3">
                            <div class="form-check mb-3 ">
                                <input class="form-check-input designer" type="radio"  value="김한나" name="designer" id="designer1">
                                <label class="form-check-label" for="designer1">
                                    김한나 원장
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input designer" type="radio"  value="장철" name="designer" id="designer2">
                                <label class="form-check-label" for="designer2">
                                    장철 수석 디자이너
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input designer" type="radio"  value="송하나" name="designer" id="designer3">
                                <label class="form-check-label" for="designer3">
                                    송하나 디자이너
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input designer" type="radio"  value="안벨리사" name="designer" id="designer4">
                                <label class="form-check-label" for="designer4">
                                    안벨리사 디자이너
                                </label>
                            </div>
                        </div>
                    </div>
                </section>
                <!--    다음 버튼    -->
                <div class="text-center my-5">
                    <button type="button" class="btn btn_outline px-4 py-2" id="nextBtn">다음 ></button>
                </div>
            </form>
        </div>

        <!-- 직원관리 -->
        <div class="user tab">
            <form th:action="@{/admin}" method="get" name="search-form" class="mb-3 mt-4 overflow-hidden">
                <div class="d-flex float-end">
                    <input class="form-control me-2 col" type="search" name="searchKeyword" placeholder="아이디를 입력하세요." aria-label="Search">
                    <button class="btn btn_outline py-2 px-4" type="submit" >검 색</button>
                </div>
            </form>
            <table class="table text-center align-middle table-borderless">
                <thead>
                <tr>
                    <th scope="col" class="col-md-1">NO</th>
                    <th scope="col" class="col-md-2">아이디</th>
                    <th scope="col">이름</th>
                    <th scope="col">핸드폰</th>
                    <th scope="col">생일</th>
                    <th scope="col">멤버십 등급</th>
                    <th scope="col">가입날짜</th>
                    <th scope="col" class="col-md-2">권한</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user : ${users}">
                    <th th:text="${indexCalculator - userStat.index}" scope="row">1</th>
                    <td th:text="${user.username}">JOO</td>
                    <td th:text="${user.name}">박진주</td>
                    <td th:text="${user.phoneNumber}">010-1234-7890</td>
                    <td th:text="${user.birth}">2022.04.12</td>
                    <td>
                        <form th:action="@{/admin/gradeAuthModify}" method="get">
                            <input type="hidden" name="selectedUser" value="">
                            <select name="grade"class="form-select form-select-sm" id="selectBoxGrade" aria-label="Default select example" onchange="changeGrade(this)">
                                <th:block th:each="grade : ${grades}">
                                <option th:value="${grade}" th:text="${grade}" th:selected="${grade} == ${user.grade}"></option>
                                </th:block>
                            </select>
                        </form>
                    </td>
                    <td th:text=${#temporals.format(user.dateCreated,'yyyy-MM-dd')}>2022.04.12</td>
                    <td>
                        <form th:action="@{/admin/gradeAuthModify}" method="get">
                            <input type="hidden" name="selectedUser" value="">
                            <select name="auth" class="form-select form-select-sm" id="selectBoxAuth" onchange="changeAuth(this)" aria-label="Default select example" >
                                <th:block th:each="auth : ${auths}">
                                <span th:each="a : ${user.auths}">
                                    <option th:value="${auth.name}" th:text="${auth.name}"  th:selected="${auth.name} == ${a.name}"></option>
                                </span>
                                </th:block>
                            </select>
                        </form>
                    </td>
                </tr>
                </tbody>
            </table>
            <div th:if = "${users.totalElements} != 0">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" th:classappend="${1 == users.pageable.pageNumber+1} ? 'disabled'">
                            <a class="page-link" th:href="@{/admin(page=${users.pageable.pageNumber-1})}" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li class="page-item"  th:classappend="${i == users.pageable.pageNumber+1} ? 'disabled'" th:each="i:${#numbers.sequence(startPage, endPage)}">
                            <a class="page-link" th:text="${i}" th:href="@{/admin(page=${i-1},searchKeyword = ${param.searchKeyword})}" href="#">1</a></li>

                        <li class="page-item"  th:classappend="${users.totalPages == users.pageable.pageNumber+1} ? 'disabled'">
                            <a class="page-link" th:href="@{/admin(page=${users.pageable.pageNumber+1})}" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div th:insert="footer.html" class="footer"></div>
    </main>
</body>
</html>